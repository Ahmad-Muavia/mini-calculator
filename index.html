<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Advanced Scientific Calculator</title>

<style>
    *{box-sizing:border-box; user-select:none;}
    body{
        margin:0;
        font-family:system-ui;
        background:#f0f0f0;
        display:flex;
        justify-content:center;
        align-items:center;
        height:100vh;
        transition:0.3s;
    }

    body.dark{
        background:#0d0d0d;
        color:white;
    }

    .calc{
        width:330px;
        background:white;
        border-radius:16px;
        padding:18px;
        box-shadow:0 0 20px rgba(0,0,0,0.15);
        transition:0.3s;
    }

    body.dark .calc{
        background:#1a1a1a;
        box-shadow:0 0 25px rgba(255,255,255,0.05);
    }

    #display{
        width:100%;
        height:60px;
        font-size:28px;
        padding:10px;
        border:none;
        border-radius:10px;
        text-align:right;
        background:#e9e9e9;
    }

    body.dark #display{
        background:#333;
        color:white;
    }

    .keys{
        margin-top:15px;
        display:grid;
        grid-template-columns: repeat(4, 1fr);
        gap:10px;
    }

    button{
        height:55px;
        font-size:18px;
        border:none;
        border-radius:12px;
        background:#dedede;
        cursor:pointer;
        transition:0.15s;
    }

    body.dark button{
        background:#2b2b2b;
        color:white;
    }

    button:hover{
        transform:translateY(-3px);
        box-shadow:0 4px 10px rgba(0,0,0,0.2);
    }

    button:active{
        transform:scale(0.94);
    }

    .op{ background:#ffbb33 !important; }
    .sc{ background:#66b2ff !important; }
    .eq{ background:#66e066 !important; }
    .clear{ background:#ff6666 !important; }

    #modeToggle{
        margin-bottom:10px;
        width:100%;
        height:40px;
        background:#444;
        color:white;
        border-radius:10px;
    }
</style>

</head>
<body>

<div class="calc">

    <button id="modeToggle" onclick="toggleMode()">üåô Dark / ‚òÄÔ∏è Light</button>

    <input id="display" readonly />

    <div class="keys">

        <!-- Scientific Row -->
        <button class="sc" onclick="sci('sin')">sin</button>
        <button class="sc" onclick="sci('cos')">cos</button>
        <button class="sc" onclick="sci('tan')">tan</button>
        <button class="sc" onclick="sci('sqrt')">‚àö</button>

        <!-- Scientific Row -->
        <button class="sc" onclick="sci('log')">log</button>
        <button class="sc" onclick="press('œÄ')">œÄ</button>
        <button class="sc" onclick="press('e')">e</button>
        <button class="sc" onclick="press('^')">^</button>

        <!-- Normal Calculator -->
        <button onclick="press('7')">7</button>
        <button onclick="press('8')">8</button>
        <button onclick="press('9')">9</button>
        <button class="op" onclick="press('/')">√∑</button>

        <button onclick="press('4')">4</button>
        <button onclick="press('5')">5</button>
        <button onclick="press('6')">6</button>
        <button class="op" onclick="press('*')">√ó</button>

        <button onclick="press('1')">1</button>
        <button onclick="press('2')">2</button>
        <button onclick="press('3')">3</button>
        <button class="op" onclick="press('-')">‚àí</button>

        <button onclick="press('0')">0</button>
        <button onclick="press('.')">.</button>
        <button class="eq" onclick="calc()">=</button>
        <button class="op" onclick="press('+')">+</button>

        <button class="clear" style="grid-column: span 2;" onclick="clearAll()">C</button>
        <button class="clear" onclick="back()">‚å´</button>
        <button class="op" onclick="press('(')">(</button>
        <button class="op" onclick="press(')')">)</button>

    </div>
</div>

<script>
    const d = document.getElementById('display');

    function press(v){
        if(v === 'œÄ') v = Math.PI;
        if(v === 'e') v = Math.E;
        d.value += v;
    }

    function sci(type){
        d.value = `Math.${type}(` + d.value + ')';
    }

    function clearAll(){ d.value = '' }
    function back(){ d.value = d.value.slice(0,-1) }

    function calc(){
        let exp = d.value.replace(/\^/g, "**");

        try{
            d.value = Function('return ' + exp)();
        }catch{
            d.value = "Error";
        }
    }

    function toggleMode(){
        document.body.classList.toggle("dark");
    }
</script>

</body>
</html>
